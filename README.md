# [GopherCon Russia](https://www.gophercon-russia.ru/) 2021 -- [ruleguard](https://github.com/quasilyte/go-ruleguard) workshop

> –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [notes/](notes) –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –∫—Ä–∞—Ç–∫–æ–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ –º–Ω–æ–≥–∏–º –ø—É–Ω–∫—Ç–∞–º –∏–∑ –ø–ª–∞–Ω–∞.
> –°—Å—ã–ª–∫–∏ –≤ –≤–∏–¥–µ üìñ –≤–µ–¥—É—Ç –Ω–∞ –∑–∞–ø–∏—Å–∏, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è —Ç–µ–º–µ.

## –ü–ª–∞–Ω

–ö—Ä–∞—Ç–∫–æ: —É—á–∏–º—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ruleguard` –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º –µ–≥–æ –≤ –Ω–∞—à –ø–∞–π–ø–ª–∞–π–Ω.

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

* –í —Å–∏—Å—Ç–µ–º–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Go 1.15 –∏–ª–∏ –≤—ã—à–µ
* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–æ—Å–ª–µ–¥–Ω—è—è –≤–µ—Ä—Å–∏—è ruleguard
* –ï—Å—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ —Ç–∞–∫–æ–µ [Go modules](https://github.com/golang/go/wiki/Modules); —É–º–µ–µ–º –¥–µ–ª–∞—Ç—å `go mod init` –∏ —É—Å—Ç–∞–Ω–æ–≤–∫—É –º–æ–¥—É–ª–µ–π

–ï—Å–ª–∏ —É –≤–∞—Å Windows –∏–ª–∏ MacOS, —Å—Ç–æ–∏—Ç —Ç—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤—Å—ë –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç.
–î–ª—è —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `check_setup.go` –∏–∑ –∫–æ—Ä–Ω—è —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```bash
$ git clone https://github.com/quasilyte/gophercon2021-ruleguard.git
$ cd gophercon2021-ruleguard/check_install
$ go run main.go
```

–õ—É—á—à–µ –≤—Å–µ–≥–æ –¥–ª—è –Ω–∞—à–∏—Ö –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–ª–µ–π —Å—Ç–∞–≤–∏—Ç—å `go-ruleguard` –∏–∑ –∏—Å—Ö–æ–¥–Ω–∏–∫–æ–≤. –ù–æ –µ—Å–ª–∏ –≤—ã –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ—Ç–µ –±–∏–Ω–∞—Ä–Ω—ã–µ —Ä–µ–ª–∏–∑—ã, —Ç–æ –¥–ª—è –≤–µ—Ä—Å–∏–∏ `v0.3.4` –µ—Å—Ç—å –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º:

* [linux/amd64](https://github.com/quasilyte/go-ruleguard/releases/download/v0.3.4/ruleguard-linux-amd64.zip)
* [linux/arm64](https://github.com/quasilyte/go-ruleguard/releases/download/v0.3.4/ruleguard-linux-arm64.zip)
* [darwin/amd64](https://github.com/quasilyte/go-ruleguard/releases/download/v0.3.4/ruleguard-darwin-amd64.zip)
* [windows/amd64](https://github.com/quasilyte/go-ruleguard/releases/download/v0.3.4/ruleguard-windows-amd64.zip)

–¢–∞–∫–∂–µ —Å—Ç–æ–∏—Ç —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç `github.com/quasilyte/go-ruleguard/dsl`. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –º–æ–¥—É–ª–µ–º –∏ –Ω—É–∂–µ–Ω –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –ø—Ä–∞–≤–∏–ª.

### –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ

* –í–≤–µ–¥–µ–Ω–∏–µ –≤ –ø—Ä–æ–±–ª–µ–º–∞—Ç–∏–∫—É, "–∫–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –º—ã —Å–æ–±—Ä–∞–ª–∏—Å—å —Ä–µ—à–∞—Ç—å?"
* –í–≤–µ–¥–µ–Ω–∏–µ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤ –¥–ª—è Go
* –û—Ç–ª–∏—á–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ruleguard –æ—Ç –¥—Ä—É–≥–∏—Ö –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–æ–≤
* –í–≤–æ–¥–∏–º –∏ —Ä–∞–∑–±–∏—Ä–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å

* [üìñ](notes/gorules_file.md) –°—Ç—Ä—É–∫—Ç—É—Ä–∞ gorules —Ñ–∞–π–ª–æ–≤
* –ó–∞–ø—É—Å–∫ –ø—Ä–∞–≤–∏–ª
* –ü–∏—à–µ–º —Å–≤–æ–∏ –ø—Ä–∞–≤–∏–ª–∞
* –ó–Ω–∞–∫–æ–º–∏–º—Å—è —Å –æ—Ç–ª–∞–¥–∫–æ–π —Ñ–∏–ª—å—Ç—Ä–æ–≤
* –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª
* –ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞, –∑–Ω–∞–∫–æ–º–∏–º—Å—è —Å [ruleguard bundles](https://quasilyte.dev/blog/post/ruleguard-modules/)
* –ö–∞–∫ –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–∞–≤–∏–ª–∞ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –¥–æ–±–∞–≤–ª—è—Ç—å –ª–∏ –∏—Ö –≤ `go.mod`
* –†–∞–∑–±–∏—Ä–∞–µ–º quickfixes, –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª–∞ —á–µ—Ä–µ–∑ `Suggest()`
* –ü—Ä–æ–±—É–µ–º –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã: –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä—É–µ–º—ã–µ, —Å–æ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π –∏ –ø—Ä–æ—á–∏–µ

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

* [üìñ](notes/gocritic_integration.md) –ó–∞–ø—É—Å–∫ ruleguard —á–µ—Ä–µ–∑ [go-critic](https://github.com/go-critic/go-critic)
* [üìñ](notes/golangci_integration.md) –ó–∞–ø—É—Å–∫ ruleguard —á–µ—Ä–µ–∑ [golangci-lint](https://github.com/golangci/golangci-lint)
* [üìñ](https://github.com/quasilyte/gophercon2021-ruleguard/blob/master/notes/golangci_integration.md#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC-%D0%B8%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D0%B8) golangci-lint: —Ä–µ—à–∞–µ–º —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
* –†–∞–∑–Ω—ã–µ –Ω–∞–±–æ—Ä—ã –ø—Ä–∞–≤–∏–ª –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç–µ–π –ø—Ä–æ–µ–∫—Ç–∞

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å

* –ö–∞–∫ ruleguard –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–∞–∫–µ—Ç—ã
* –ö–∞–∫ —É–ø—Ä–æ—â–∞—Ç—å –∏–¥–µ–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫, —á—Ç–æ–±—ã –æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
* –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –≤ ruleguard
* [–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è analysistest](https://github.com/golang/go/issues/37054)

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç—å

* –ù–∞—Ö–æ–¥–∏–º –ø—Ä–æ–µ–∫—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —Ç–∞–º —É–∂–µ –±—ã–ª golagnci-lint –∫–æ–Ω—Ñ–∏–≥)
* –í–∫–ª—é—á–∞–µ–º ruleguard, –ø–∏—à–µ–º –ø—Ä–∞–≤–∏–ª–∞
* –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ
* –ü–∏—à–µ–º —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–∞–≤–∏–ª

–í–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ –∏ –∏–¥–µ–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å –∑–¥–µ—Å—å: [go-ruleguard.github.io/random](https://go-ruleguard.github.io/random/)

## –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

* [ruleguard by example](https://go-ruleguard.github.io/by-example/)
* [Random ruleguard snippets](https://go-ruleguard.github.io/random)
* [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ñ–æ—Ä–º–∞—Ç—É gorule —Ñ–∞–π–ª–æ–≤](https://github.com/quasilyte/go-ruleguard/blob/master/_docs/dsl.md)
* [godoc —Ä–µ—Ñ–µ—Ä–µ–Ω—Å –Ω–∞ –ø–∞–∫–µ—Ç DSL](https://pkg.go.dev/github.com/quasilyte/go-ruleguard/dsl)
* [–í–≤–µ–¥–µ–Ω–∏–µ –≤ ruleguard](https://habr.com/ru/post/481696/)

## –ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

* [–ì—Ä—É–ø–ø–∞ go-critic –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–µ](https://t.me/go_critic_ru) (—Ç–∞–º –∂–µ –æ–±—Å—É–∂–¥–∞–µ–º ruleguard)
